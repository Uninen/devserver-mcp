# AI Generated Changes

* 30-05-2025 -- Refactored config path resolution with better error handling and comprehensive tests: improved resolve_config_path with max depth protection, permission error handling, unexpected exception handling, and added meaningful tests for all edge cases including symlink cycles and filesystem errors. (GitHub Copilot)
* 30-05-2025 -- Created comprehensive test_config_resilience.py covering various resilience scenarios. (GitHub Copilot)
* 30-01-2025 -- Aggressively cleaned up test suite: removed 46% of tests (72â†’39) by deleting trivial implementation detail tests while preserving critical business logic tests (app startup, server workflows, error handling, UI behavior). Created comprehensive list of testing gaps that need improvement. (claude-sonnet-4-20250514)
* 30-05-2025 -- Added MCP server logging to TUI - MCP startup messages and tool calls now appear in Server Logs window. (claude-opus-4-20250514)
* 30-05-2025 -- Added 'autostart' configuration boolean to automatically start offline, non-external servers on MCP startup, including tests. (Assistant-0.1)
* 30-05-2025 -- Added `prefix_logs` config to control log prefixing and updated tests. (claude-3.5-sonnet-20240620)
* 30-05-2025 -- Suppressed pytest-asyncio warning by setting asyncio_default_fixture_loop_scope in pytest.ini. (Claude 3 Opus)
* 30-05-2025 -- Fixed various Pytest warnings related to async mocks and test collection. (Gemini)
* 30-05-2025 -- Fixed backend process stopping issue and enabled log copy-paste: made stop() method async with proper process termination waiting, added race condition delay after stopping, enabled RichLog focus for text selection, and updated all tests to handle async stop method. Backend servers now properly show "stopped" instead of "external" after clicking to stop. (claude-3-5-sonnet-20241022)
* 30-05-2025 -- Fixed tests to work without test-specific workarounds: updated test_server_box_status_update to use proper Textual app context, made _refresh_labels() safe for all contexts by checking widget composition state. (GitHub Copilot)
* 30-05-2025 -- Fixed ServerBox status update issue: when clicking to start/stop servers, the box now updates its internal server data and refreshes the status display, ensuring UI reflects actual server state. (GitHub Copilot)
* 30-05-2025 -- Created failing test demonstrating the issue where ServerBox status doesn't update after clicking to start a server - box retains original "stopped" data even after successful start. (claude-3-5-sonnet-20241022)
* 30-05-2025 -- Made server boxes clickable: stopped servers start on click, running managed servers stop on click, added hover styling for visual feedback, and created comprehensive test suite covering all click scenarios using Textual's testing framework. (GitHub Copilot)
* 30-05-2025 -- Updated UI to 80s synthwave theme with darker background (#0a0a0f), neon colors (magenta/cyan/purple), improved footer spacing (3-line height with centered content), and increased spacing between server boxes (margin-bottom: 2). (GitHub Copilot)
* 30-05-2025 -- Improved TUI design: moved headings to border titles, made left panel narrower (20% width), unified dark background theme, reduced footer height, and cleaned up overall appearance while maintaining test compatibility. (GitHub Copilot)
* 30-05-2025 -- Complete synthwave UI redesign: vertical split, bordered panels, bottom bar, minimal look, and all tests passing. (GitHub Copilot)
* 30-05-2025 -- Added comprehensive tests for ManagedProcess start and status methods, covering success cases, immediate exit scenarios, exception handling, and all status states (running/error/stopped). (GitHub Copilot)
* 30-05-2025 -- Added comprehensive tests for ManagedProcess.stop method covering various scenarios including running processes, already stopped processes, and exception handling during termination. (GitHub Copilot)
* 30-05-2025 -- Added test for start_server when process is already running, covering the already_running status case in DevServerManager. (GitHub Copilot)
* 30-05-2025 -- Completed UI refactoring: extracted UI components into separate ui.py module, created comprehensive tests for all UI widgets including ServerStatusWidget/LogsWidget/DevServerApp, and fixed import issues for proper script execution. All tests passing. (GitHub Copilot)
* 30-05-2025 -- Added comprehensive tests for MCP stop_server tool covering error cases, not running servers, running process stoppage, and case insensitive server names. (GitHub Copilot)
* 30-05-2025 -- Refactored FastMCP server implementation to improve testability by extracting create_mcp_server() function and load_config() function from DevServerMCP class, enabling direct in-memory testing with FastMCP Client following the recommended testing patterns. Added comprehensive MCP tool tests demonstrating the refactor works. (GitHub Copilot)
* 30-05-2025 -- Added comprehensive tests for DevServerManager and improved testability of DevServerMCP. (GitHub Copilot)
* 30-05-2025 -- Added console script entry point and __main__.py module for proper PyPI package installation - users can now run 'devserver-mcp' command or 'python -m devserver_mcp' after installing from PyPI. (claude-3-5-sonnet-20241022)
* 29-05-2025 -- Refactored shutdown process to handle Ctrl-C cleanly with custom event loop exception handler, proper MCP task cancellation, and ensured zero terminal output after shutdown. (claude-opus-4-20250514)
* 29-05-2025 -- Fixed app startup while maintaining zero terminal output by only silencing in non-terminal environments, allowing TUI to run normally in terminals but completely silent in tests/subprocess. (claude-sonnet-4-20250514)
* 29-05-2025 -- Completely eliminated terminal output by wrapping entire main() in silence_all_output context manager, silencing all logging, using proper Textual exit, and detecting non-terminal environments. Tests now pass showing zero terminal output including no tracebacks. (claude-sonnet-4-20250514)
* 29-05-2025 -- Added pytest tests to demonstrate excessive terminal output issue during app startup and shutdown. (claude-sonnet-4-20250514)
* 29-05-2025 -- Simplified shutdown to just exit cleanly without complex MCP task cancellation - let OS handle cleanup for silent exit. (claude-sonnet-4-20250514)
* 29-05-2025 -- Fixed Textual layout to use bottom status bar instead of side panels, removed 'q' quit binding, and fixed CancelledError on exit with proper timeout handling. (claude-sonnet-4-20250514)
* 29-05-2025 -- Reimplemented TUI using Textual instead of Rich for better terminal handling and cleaner output. Refactored code structure with proper separation of concerns between business logic (DevServerManager), UI (Textual widgets), and MCP integration. (claude-sonnet-4-20250514)
* 29-05-2025 -- Fixed lint error and verified HTTP transport working properly - MCP server now successfully starts on http://127.0.0.1:3001/mcp. (claude-3-5-sonnet)
* 29-05-2025 -- Implemented HTTP transport for shared MCP server instance between TUI and VS Code integration. (claude-3-5-sonnet)
* 29-05-2025 -- Refactored process management for immediate clean exit on Control-C (sonnet-4)
* 29-05-2025 -- Aggressively silence shutdown, do not await MCP task, and suppress all errors in main for immediate exit. (Gemini)
* 29-05-2025 -- Refactor shutdown sequence to separate TUI exit from MCP task cancellation, and handle expected ExceptionGroup. (Gemini)
* 29-05-2025 -- Add detailed logging to shutdown sequence to debug unclean exits. (Gemini)
* 29-05-2025 -- Refactored shutdown logic and added quit instruction to TUI. (Gemini)
* 29-05-2025 -- Fixed "Already running asyncio in this thread" error by using FastMCP's run_async() method instead of run() and adding nest_asyncio support. (claude-3-5-sonnet-20241022)
* 29-05-2025 -- First version of this document. (human)

# Recent Changes

* 30-05-2025 -- Preserved original comments in __init__.py and removed only added trivial comments, cleaned up broken test fragments. (claude-3-5-sonnet-20241022)
* 30-05-2025 -- Added comprehensive config path resolution with error handling and complete test coverage for edge cases. (claude-3-5-sonnet-20241022)
